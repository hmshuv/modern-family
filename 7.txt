LRU ASG9
#include <stdio.h>
int main() {
int n, frames, i, j;
printf("Enter number of pages: ");
scanf("%d", &n);
int pages[n];
printf("Enter the pages:\n");
for (i = 0; i < n; i++) 
scanf("%d", &pages[i]);
printf("Enter number of frames: ");
scanf("%d", &frames);
int frameQueue[frames];
int lastUsed[frames];
int pageFaults = 0;
for (i = 0; i < frames; i++) {
frameQueue[i] = -1;
lastUsed[i] = -1;
}
int history[frames][n];
char result[n];
for (i = 0; i < n; i++) {
int page = pages[i];
int found = -1;
for (j = 0; j < frames; j++) {
if (frameQueue[j] == page) { 
    found = j; 
    break; }
}
if (found != -1) {
lastUsed[found] = i;
result[i] = 'H';
} 
else {
int target = -1;
for (j = 0; j < frames; j++) {
if (frameQueue[j] == -1) 
{
    target = j;
    break; 
 }
}
if (target == -1) {
int minIdx = 0;
for (j = 1; j < frames; j++) {
if (lastUsed[j] < lastUsed[minIdx]) 
minIdx = j;
}
target = minIdx;
}
frameQueue[target] = page;
lastUsed[target] = i;
pageFaults++;
result[i] = 'F';
}
for (j = 0; j < frames; j++) 
history[j][i] = frameQueue[j];
}
printf("\nLRU PAGE REPLACEMENT (Vertical View)\n\n");
printf("Page Ref\t");
for (i = 0; i < n; i++) 
printf("%d\t", pages[i]);
printf("\n");
for (i = 0; i < frames; i++) {
printf("Frame %d\t\t", i + 1);
for (j = 0; j < n; j++) {
if (history[i][j] != -1) 
printf("%d\t", history[i][j]);
else printf("-\t");
}
printf("\n");
}
printf("Result\t\t");
for (i = 0; i < n; i++) 
printf("%c\t", result[i]);
printf("\n\nTotal Page Faults: %d\n", pageFaults);
return 0;
}